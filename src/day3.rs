/* 
  Day 3: Tobaggan Trajectory
  Given a puzzle input where . is an empty space and # is a tree,
  count how many trees you will encounter given a specified slope (y squares down, x squares right) starting at the top left.
  The puzzle input for each line repeats to the right an infinite number of times.
*/

pub fn count_trees_using_slope(geo: &Vec<Vec<String>>, down: usize, right: usize) -> i64 {
  let mut num_trees = 0;
  let mut yindex = 0;
  let mut xindex = 0;
  while yindex < geo.len() {
    if geo[yindex][xindex] == "#" {
      num_trees += 1;
    }
    yindex += down;
    xindex += right;
  }

  return num_trees;
}

pub fn read_geology() -> Vec<Vec<String>> {
  let goe_str = 
    ".##.#.........#.....#....#...#.
    .#.#.#...#.......#.............
    ......#..#....#.#...###.......#
    .......###......#.....#..##..#.
    ..#...##.......#.......###.....
    ....###.#....###......#....#..#
    ......#..#....#...##...........
    ..#..#....#...#.....####.......
    ...#........#.#.......#..#...#.
    ......#...#........#...#..##...
    #..#........#............#...##
    ..#..#.#....#...........#...###
    #.#..#...........#.##.#.#....#.
    .#.#....#...##.....#...........
    .....##....#...#..............#
    ...#....#...#.#.#.#...#........
    #....#....#.#.#..#....#..#..#..
    .................#..#.....#....
    #..###...#.#..#.#......#.......
    ...#..........#......#....#....
    .#.#.........##..#.......#...#.
    .#..........#...#..#...........
    ....##.#.......................
    .......#...........#...#.......
    ...#...#..##...#....###..#....#
    ....#.#.....##...##.#.#........
    ...........#.#..#.#......#..#..
    .....#.....#....#...#........#.
    ..#......#..#.........#.....#..
    .........................#...#.
    #...#...#....#........##....#..
    #..#.#.............#..........#
    .#.........#.....#..#.#.#..#.#.
    #...#..#.......####.#....##....
    ##...##..#.#.#...#.#.....#..#.#
    .#..#....#.##........#...#....#
    #...#..##.#....##..#..#.#......
    .#........#.....#.#....##.##.#.
    ...#...#........#..#.##.##.....
    ....................#.#.#.#...#
    ..####.#..##...#....#.....##...
    #......#.....#.#......#.#..#.##
    ..#.....#..#...........##.#....
    #....#........#............#...
    ..##....#..............#......#
    ..#......#.#.......####......#.
    ..............##....#....##.#..
    .#...............#....#....#.#.
    ..#.#.#..#.......##.#..........
    .#...#.......#.#....#.##.......
    .....#.##...#...........#.#....
    ..#.#..#...#..##...#.#.......##
    .#.....#....#.#......#.#.......
    ....##.........#.#.............
    .......##.......#..............
    ..........#......#......#....##
    ..##.....#..#.#..........#.....
    ...#....#.......#....##........
    .......#...........#...........
    ...#.#......#.#........#....#..
    .....#...........#.#.#...#.#..#
    .#.#...#.#.#..........#.....###
    #........#...#.................
    ...##.....#.....#..#..#.......#
    ......##...........#..#....##..
    .........#............##...#...
    .....#.....##...##.............
    .#....#..#.#.#.#...#..#..#.....
    .....#..#.#..#....#..#.........
    ....#.....#......#...#.........
    #..#..#.................#......
    .###.....#...#.#........##.#...
    ..#...#....#.##..#.....#.#....#
    ..#...##.................#.#...
    ....##..........#..#..#..#....#
    ....#..##....##.....#.#....#...
    .#.#.#.....##........#.##..##.#
    ....#..#......#..#........#....
    .......#.....###.#....#.......#
    #....#.......#......##.#.......
    .##.#.........#.#..##..#....##.
    ......#........#.#....#...#....
    .####.....#.........#.#......##
    ##....#......#....#..#.#....##.
    ...........###.#.....#..#......
    .......#...........#...........
    ........###....#..#.#..........
    ....#........#......#..........
    .........#......#..............
    ...#...............#......#...#
    ....#..##...#.........#...#....
    ##........#.#....#......###....
    ....#.......................#..
    #................#.#..#......##
    ...#.#.....#...#...........#.##
    .#....#.##......#...##.#....#..
    #...#....#..............#..#..#
    .......#....#.##............#.#
    .....#.#.......#.#...#.........
    ...#.....#..##...##...#........
    ..#.......#..####..#..#...#....
    #.#................##...##.#..#
    .....#.....##.#.....#......#..#
    ....#.#...#.........#.........#
    ..#......#............#.....#..
    .....#..........#.#..#..##...##
    ........#................#.#...
    #...#.#....##...###...#.#......
    .............##.#..##..........
    #..#......#...........#......#.
    #.#....#..........#.##....###..
    .............#.........#....#..
    #........#..#.#..#...#....#....
    ..............#..............##
    .....#...#..............#.##...
    #...##..#...........#..........
    ..#....#...#.#........#..#.#..#
    ..##......#...............#....
    ....#...#..###..#......###.#...
    .......##..#.#........#....#...
    ..##...#.......#...#...........
    .#.......#.....#.#...##..#....#
    .............#.......#.#.#....#
    #.......#..#..#...#.#......##..
    #.##..#..#..#....##.#...###.#.#
    ...##...#..#..#........#.#..#..
    #....##........................
    ##...#...#......#.#.....#..#...
    ......#............#....#......
    #......#.......#.......##.#....
    ..................#..#..#.#....
    ..#..................##.#......
    ..##........#.#.....##..#..#.#.
    #....#..............#....####..
    #..#..........................#
    ..#.#.#.#....#.......#....#.#..
    .....#.#........#..........#.#.
    ........#.....#.......#........
    #.....#....#.###.....#.......#.
    .....##.#...#.#..#...#.#.#.....
    ......##...#.#...##..........#.
    .#............#.....#..#....#..
    .#................#.#..#.......
    ....................##...##....
    #.......##...#.....#..#........
    .##....#.#.#.#...........#...#.
    ..#.#..#.#.........#...........
    ...#......#.....#...##.........
    ..........#.#.....###.#........
    .............#.....##..........
    .........#...####........#.####
    ...................#....#......
    .....#.........#.#....#..#...#.
    .##...#.......##.#...#.#.#..#..
    .....##........#....#...#.##.#.
    #...#...#.#....#..............#
    #..#.##.............#..........
    ..#...#..#.#.##..............##
    #......#.#...##..........#.##..
    .##.#...#...#.........#.#......
    ......#........##.#..#.........
    #..#.......#......#.#..#.#.....
    .#..#...........#.#.##.....#...
    .....................#..#.#....
    ........#...##......#.....##...
    #.............#...##....##....#
    #.#...........#....##.#......##
    .....#.....#.#..........###..#.
    ....#...#....##....#..##.......
    .#....#....#.......#.#.....#...
    .#...#.......##...##........#..
    ......##.......#.##.#.###......
    ....##.......#......#..........
    ...................#..##.......
    ......................#...##...
    ...##....#.#..#..#.............
    .#......##..........#...#......
    ....##..#....#..#...#...####.#.
    ...#.......#.......#........#.#
    #.........#..#...#...##...#.#.#
    ....#...#.......#...#....#.....
    ...#.....#.##..##.#.......##.##
    .......#....#........#.........
    .....#...#....#..#....#....#...
    .##....#...#........#...#.#...#
    .......##............#..#...#..
    #.#...#....#......#.#..........
    .#.##...........#........#.....
    .#....#.............#.#.##.....
    #.......###..#...###.........#.
    #..#.#.......#.........#...#..#
    ..........#......#........#...#
    .#.#...#.##.......##...........
    .....#.........#.....#.........
    .........#.........#....##.#..#
    .#.......##..##..#.....#...#...
    .#.....##...#..#..............#
    ..##...#..#..#.#...#..........#
    .#.......####......#......####.
    ##..##........#.....#........#.
    ..##.#..#.#....................
    ...........#..#...##....##.....
    ..#.#........#.........#....##.
    ..#...#..##..###.#..###........
    ......#..#.............#..##...
    .##.........#.#..#...#.##.###..
    .#...............#...........#.
    .#....#........#....#........##
    ..#####.#.#..#.#........##...#.
    ###....#....#...#..............
    .....#...##............#...#...
    ##...........##.#.##.....#.....
    ..............#..#.....#...#...
    ...................#...........
    #..........##.........#........
    ...#.........#..#.....#..#..#..
    ....###.#......#......##....#..
    #......#..........#...#........
    ...#.#...#..#..........##......
    .....##.....#.#............##..
    ..#..#.###....#.#.#...##....#..
    ...#........#....##.......#....
    .#.............#..##.......#...
    ..#.#..###..#.....#...##.......
    .........#......##...#.#..#....
    .............#....##....#.#....
    #..#...#....#.#...#......##....
    .............#.#......#.....###
    #.##....#........#.............
    .....#...#.####...#.....#......
    ....#....###....##.......#.....
    ..#....##..#....#.#.......#....
    ...#.....#....#.........#......
    .#......#.#....#.#........#....
    .......#......#.....#.#..#.....
    #......#.........##.##.#...#...
    ..#.###...................#....
    ....#..#....##.#........#....#.
    ...........#..........#......#.
    .#..#.#...###..........#..#...#
    ...#...##..#....#...#..........
    .#........#.................##.
    ....#.......##....#...#........
    #.#...##.##...#.#.......#...#..
    .....#.#.##.#......#..#..##....
    .....##...#.#.....#...#........
    #.#.......#..#..........##.....
    ................#......#..#.#.#
    #......#...#...................
    ...#.....##.#.........#.#..#..#
    ...#..##..##.......#....#......
    ....##...#....#..#...........#.
    ..#..#......#...#..#...........
    ...#.##....#...##.......#......
    .......#....#..#..##..#..#....#
    .#.................#.#...#.##..
    .....#..................#..#.#.
    ...#......##...#...........#...
    ..#.........#....#..#...#.....#
    ..#...#.....#.........##.#.....
    .....#.#....##...............#.
    ....#...#............#.........
    .....#.....###............#....
    ..#.#.#.......#....#...........
    ...........##...##...#.......#.
    .........###.#......#..........
    .#.......#....#.....#.##..#...#
    ..#..................#..###....
    ..#....#...#......##.........#.
    ........#..#........#.........#
    .#..#......#.........#.........
    ...#..##.....#....#....#.....#.
    ......#.#............###.....##
    .......#........#.......#.#....
    ..#.............#..............
    .............##..#.#.#....#....
    .................#....#.#......
    ##..#.#.......#....#.....#.....
    .##............##.#.......#.#..
    #..#...........##......#.......
    .##......#####..##.#....#.#....
    .......##.....#...#........#...
    .#.#.....##....#..#....#..#...#
    ............##.#.....##.#......
    ........##...###.#......#......
    ......#..#.#...#..#............
    .........#...........#......#..
    .#.........#............##.....
    .#..#..#...#.#.............#...
    ......#.#..##...#.#...........#
    #.##.......#...#.........#.....
    .....#..#............#....##...
    .#......#........#.............
    ..#...#....#..#.......###......
    ....#.......###.#.#...........#
    .............#...##............
    .##.#.#.#...........#...#....#.
    ............##.........#......#
    ...............#......#...#....
    ...#.....#..###..#...........#.
    .#........#.....##........#.#..
    ....#.#.......#..#..#...##.#.#.
    .......##...........#...#......
    ....#.#..##......#.......#.....
    ..#........#.#......#.#........
    ........#....#..#....#..##.....
    .#.........##..........#.#.....
    ..##...##.....##......##..#....
    .###.....##...........##.#...##
    ...#................#.......#..
    #.......#.#.#..#.#.##..#...#...
    .#.#.......#..#................
    ..#.#.#......#............#....
    #.....#.###..#.#...#...........
    #...........#..........#.#.#.##
    ..#.#...#......##.....#........
    ........#.......#.#...#...#....
    ..#..........#......###......#.
    ..........##.#....#.....#.##...
    ..#.....#......#.........#..##.
    .#...#........#..#.#..#...##..#
    ..###........#......#.#........
    ..#.##.#....#.#....#.#...#.....";
  let mut rows =  Vec::new();
  for line in goe_str.split("\n") {
    let mut cols = Vec::new();
    for _ in 1..100 { // definitely cheating. seems like the point would be to do this dynamically
      push_line(line, &mut cols);
    }
    rows.push(cols);
  }
  return rows;
}

fn push_line(line: &str, into_vec: &mut Vec<String>) {
  for geo in line.trim().chars() {
    into_vec.push(geo.to_string());
  }
}